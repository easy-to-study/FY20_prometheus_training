# promQL

Prometheusでクエリするということは、探したいデータがあるということです。

具体的なクエリを学ぶ前に、どのようなデータがPrometheusで収集できているのかまず大づかみに把握しましょう。

## Prometheusのデータモデル

メトリクス名とラベル（key/valueペア）で構成され、それぞれのラベルは異なる時系列を表します。
モデルに関する情報は以下の通りです

### Metrics Name

名称は通常、メトリクスの機能を表す。
例えば、 `http_requests_total` はHTTPリクエストの総数を表します。

### ラベル

同じ時系列の異なる次元を識別するために使われます。
例えば、`http_request_total{method=”Get”}` はHTTPがGetしたリクエストの総数を表します。
よって、method=”Post”の時には、また別の新しいメトリクスになります。

## メトリクスのタイプ

PrometheusのClientライブラリは4つの主なタイプのメトリクスをサポートします

### Counter

累積的なメトリクスでは、そのメトリクスが累積されるか、または0にリセットされます。例えば、一つのHTTPにエラーが出た回数をカウントします。

### Gauge

メモリ使用率など、瞬時で時間に依存しない、任意に変更するメトリクスに使えます。

### Histogram

主にはある範囲内の時間におけるデータ・サンプルの表示に使い、ヒストグラム(柱状グラフ)の形が想像できます。

### Summary

Histogramに似て、ある範囲内の時間におけるデータ・サンプルのサマリーを表示します。
